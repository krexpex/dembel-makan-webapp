@tailwind base;
@tailwind components;
@tailwind utilities;

/* ====== ОСНОВНЫЕ СТИЛИ ====== */
html, body {
  @apply bg-black text-white select-none overflow-x-hidden;
  font-family: 'Inter', 'SF Pro Display', system-ui, sans-serif;
  -webkit-tap-highlight-color: transparent;
}

button {
  @apply focus:outline-none;
}

/* Глобальные анимации появления */
.appear-scale {
  animation: appear-scale 0.6s cubic-bezier(0.25, 1, 0.5, 1);
}
@keyframes appear-scale {
  0% { transform: scale(0.85); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}

.appear-fade-up {
  animation: appear-fade-up 0.6s cubic-bezier(0.25, 1, 0.5, 1);
}
@keyframes appear-fade-up {
  0% { transform: translateY(10px); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}

.glow-enter {
  animation: glow-enter 2s ease-out forwards;
}
@keyframes glow-enter {
  0% { opacity: 0; transform: scale(1.3); }
  100% { opacity: 1; transform: scale(1); }
}

/* ====== ЭФФЕКТЫ PNG ====== */
.jeb-layer {
  animation: fadein 0.4s ease-out forwards;
}
.auto-fade-out {
  animation: fadeout 2.4s ease-out forwards;
}
@keyframes fadein { from { opacity: 0; } to { opacity: 1; } }
@keyframes fadeout { 0% { opacity: 1; } 90% { opacity: 1; } 100% { opacity: 0; } }

/* Анимации PNG */
.animate-rise-left {
  animation: rise-left 2.2s cubic-bezier(.25,1,.3,1) forwards;
}
@keyframes rise-left {
  0% { opacity: 0; transform: translateY(20px) rotate(-4deg); }
  15% { opacity: 1; transform: translateY(0) rotate(0deg); }
  85% { opacity: 1; transform: translateY(-4px); }
  100% { opacity: 0; transform: translateY(-10px); }
}

.animate-slide-from-right {
  animation: slide-right 2.2s cubic-bezier(.25,1,.3,1) forwards;
}
@keyframes slide-right {
  0% { opacity: 0; transform: translateX(40px) rotate(2deg); }
  15% { opacity: 1; transform: translateX(0) rotate(0); }
  85% { opacity: 1; }
  100% { opacity: 0; transform: translateX(20px); }
}

/* ====== МАКАН ====== */
.makan-shadow {
  filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.6));
}
.animate-wobble {
  animation: wobble 2.4s ease-in-out infinite;
}
@keyframes wobble {
  0%,100% { transform: rotate(0deg); }
  50% { transform: rotate(0.4deg); }
}

/* ====== КНОПКИ (бургер и меню) ====== */
.glass-btn {
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.12);
  box-shadow: 0 4px 18px rgba(0,0,0,0.45);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  transition: background 0.25s, transform 0.25s;
}
.glass-btn:active {
  background: rgba(255,255,255,0.12);
  transform: scale(0.96);
}

.glass-menu {
  background: rgba(18, 18, 18, 0.85);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

/* ====== LIQUID ISLAND ====== */
.island {
  filter: url(#goo);
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
  border: 1px solid rgba(255,255,255,.14);
  box-shadow: 0 12px 40px rgba(0,0,0,.28);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  pointer-events: none;
  border-radius: 34px;
}
.island-compact {
  width: min(420px, 76vw);
}
.not-full {
  margin: 0 auto;
}

/* Кнопки островка */
.island-row {
  position: relative;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  pointer-events: none;
}
.island-btn {
  height: 56px;
  width: 56px;
  display: grid;
  place-items: center;
  color: #eef2f6;
  z-index: 3;
  border-radius: 22px;
  transition: color .2s ease, transform .12s ease, opacity .2s ease;
  opacity: .9;
  pointer-events: auto;
}
.island-btn svg {
  width: 26px;
  height: 26px;
}
.island-btn:active {
  transform: scale(.96);
}
.island-btn:not(.active) {
  opacity: .82;
}
.island-btn::before {
  content: "";
  position: absolute;
  inset: 0;
  margin: auto;
  width: 46px;
  height: 46px;
  border-radius: 23px;
  background: rgba(255,255,255,.06);
  z-index: -1;
  transition: background .2s ease, transform .2s ease;
}
.island-btn.active::before {
  background: rgba(255,255,255,.12);
  transform: scale(1.04);
}

/* Пузырёк вокруг активной иконки */
.active-bubble {
  position: absolute;
  top: 50%;
  left: 0;
  height: 58px;
  width: var(--w, 58px);
  transform: translateX(calc(var(--x, 0px) - 50%)) translateY(-50%);
  z-index: 2;
  pointer-events: none;
  transition: transform 380ms cubic-bezier(.22,.76,.25,1),
              width 380ms cubic-bezier(.22,.76,.25,1);
  border-radius: 29px;
}
.bubble-mounted {
  transition-delay: 10ms;
}
.active-bubble-core {
  position: absolute;
  inset: 0;
  border-radius: 29px;
  background: radial-gradient(
    140% 120% at 50% 7%,
    rgba(255,255,255,.35),
    rgba(255,255,255,.10) 42%,
    rgba(255,255,255,.06) 100%
  );
  border: 1px solid rgba(255,255,255,.28);
  box-shadow:
    inset 0 1px 8px rgba(255,255,255,.28),
    inset 0 -14px 24px rgba(0,0,0,.28),
    0 12px 26px rgba(0,0,0,.28);
}
.active-bubble-gloss {
  position: absolute;
  inset: 0;
  border-radius: 29px;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: .65;
  background:
    radial-gradient(60% 36% at 50% 2%, rgba(255,255,255,.55), transparent 60%),
    radial-gradient(62% 56% at 50% 86%, rgba(0,0,0,.22), transparent 60%);
}

/* Капля-перелив */
.blob-real {
  position: absolute;
  top: 50%;
  left: 0;
  height: 56px;
  width: var(--w, 64px);
  border-radius: 28px;
  transform: translateX(calc(var(--x, 0px) - 50%)) translateY(-50%);
  transition: transform 420ms cubic-bezier(.23,.86,.2,1),
              width 420ms cubic-bezier(.23,.86,.2,1);
  z-index: 1;
  pointer-events: none;
}
.blob-mounted { transition-delay: 18ms; }
.stretch-r, .stretch-l {
  transition-timing-function: cubic-bezier(.23,.86,.2,1);
}
.blob-core {
  position: absolute;
  inset: 0;
  background: radial-gradient(
    90% 120% at 50% 12%,
    rgba(255,255,255,.26),
    rgba(255,255,255,.10) 45%,
    rgba(255,255,255,.06) 100%
  );
  border: 1px solid rgba(255,255,255,.22);
  border-bottom-color: rgba(0,0,0,.18);
  box-shadow:
    inset 0 1px 6px rgba(255,255,255,.24),
    inset 0 -12px 22px rgba(0,0,0,.25),
    0 10px 24px rgba(0,0,0,.25);
  border-radius: 28px;
}
.blob-spec {
  position: absolute;
  inset: 0;
  border-radius: 28px;
  background:
    radial-gradient(70% 40% at 50% 5%, rgba(255,255,255,.45), transparent 60%),
    radial-gradient(60% 60% at 50% 80%, rgba(0,0,0,.18), transparent 60%);
  mix-blend-mode: screen;
  opacity: .60;
}
