@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===========================
   БАЗА / ТЁМНЫЙ ФОН / ТЕКСТ
   =========================== */

html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background-color: #0b1110; /* тёмно-зелёный/чёрный фон */
  color: #f9fafb;
  font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

* { box-sizing: border-box; }
html { scroll-behavior: smooth; }

/* Мелкие утилки */
.transition-base { transition: all .3s ease; }
.text-shadow { text-shadow: 0 1px 2px rgba(0,0,0,.5); }
.shadow-deep { box-shadow: 0 8px 30px rgba(0,0,0,.40); }

/* ===========================
   СЛОИ СЦЕНЫ (Z-INDEX CONTROL)
   =========================== */

/* Макан — всегда выше всего, кроме системных popups */
.makan-layer { position: relative; z-index: 30; }

/* На случай, если класс не добавлен — ловим по имени файла */
img[src$="makan.png"] { position: relative; z-index: 30; }

/* PNG/JPG надписи JEB — поверх фона/кольца/текста, но ниже Макана */
.jeb-layer { position: absolute; z-index: 20; pointer-events: none; }

/* Фолбэк: если классы не указали — ловим по src */
img[src*="jeb"] {
  position: absolute;
  z-index: 20;
  pointer-events: none;
}

/* Мягкая тень под «ногами» Макана — усиливает эффект «из-за спины» */
.makan-shadow::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 80%;
  height: 35%;
  background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
  border-radius: 50%;
  pointer-events: none;
  z-index: 25; /* ниже самого Макана, выше надписей быть не должно */
}

/* ===========================
   ВХОД СЦЕНЫ / ГЛОУ / ПОКАЧИВАНИЕ
   =========================== */

/* Плавный подъём блока */
@keyframes fade-up {
  0% { opacity: 0; transform: translateY(12px); }
  100% { opacity: 1; transform: translateY(0); }
}
.appear-fade-up { animation: fade-up 500ms ease-out both; }

/* Плавное масштаб-проявление */
@keyframes scale-in {
  0% { opacity: 0; transform: scale(0.94); }
  100% { opacity: 1; transform: scale(1); }
}
.appear-scale { animation: scale-in 520ms cubic-bezier(.2,.9,.2,1) both; }

/* Нежная вспышка подсветки позади сцены */
@keyframes glow-flash {
  0% { opacity: 0; }
  30% { opacity: .75; }
  100% { opacity: .18; }
}
.glow-enter { animation: glow-flash 900ms ease-out both; }

/* Лёгкое «покачивание» Макана (дышит) */
@keyframes wobble {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  25% { transform: translateY(-2px) rotate(-0.6deg); }
  50% { transform: translateY(1px) rotate(0.6deg); }
  75% { transform: translateY(-1px) rotate(-0.4deg); }
}
.animate-wobble {
  animation: wobble 2.4s ease-in-out infinite;
  transform-origin: 50% 100%;
}

/* ===========================
   АН�?МАЦИИ ДЛЯ JEB-НАДПИСЕЙ
   =========================== */

/* В некоторых PNG может быть белая подложка — убираем её на тёмном фоне */
.jeb-img {
  mix-blend-mode: multiply;      /* белое "пропадает", чёрный остаётся чёрным */
  image-rendering: auto;
  background: transparent;
}

/* Авто-исчезновение через ~2.4с */
@keyframes fade-out {
  to { opacity: 0; transform: translateY(-6px) scale(.98); }
}
.auto-fade-out {
  animation: fade-out 420ms ease-out 2.4s forwards; /* задержка 2.4с, затем плавный уход */
}

/* 1) jeb1 — появляется слева из-за Макана и чуть поднимается */
@keyframes rise-left {
  0%   { transform: translate(-40px, 30px) scale(.92); opacity: 0; filter: blur(6px); }
  60%  { filter: blur(0); }
  100% { transform: translate(0, -8px) scale(1); opacity: 1; }
}
.animate-rise-left { animation: rise-left 650ms cubic-bezier(.2,.9,.2,1) both; }

/* 2) jeb2 — заезжает справа из-за Макана */
@keyframes slide-from-right {
  0%   { transform: translate(40px, -50%) scale(.96); opacity: 0; filter: blur(6px); }
  70%  { filter: blur(0); }
  100% { transform: translate(0, -50%) scale(1); opacity: 1; }
}
.animate-slide-from-right { animation: slide-from-right 520ms ease-out both; }

/* 3) jeb3 — появляется сверху «дугой» (поп-эффект) */
@keyframes arc-pop {
  0%   { transform: translate(-50%, -10px) scale(.9); opacity: 0; }
  60%  { opacity: 1; }
  100% { transform: translate(-50%, 0) scale(1); opacity: 1; }
}
.animate-arc-pop { animation: arc-pop 600ms cubic-bezier(.2,.9,.2,1) both; }

/* ===========================
   ФУТЕР
   =========================== */

footer {
  opacity: .75;
  transition: opacity .3s ease;
}
footer:hover { opacity: 1; }
